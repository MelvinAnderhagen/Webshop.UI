@page
@model Webshop.UI.Pages.StorePage.LoggedinIndexModel
@{
}
<form asp-page-handler="Search" asp-route-id="@Model.ShoppingCart.CartId">
    <div class="d-flex">
        <div class="input-group">
            <input class="form-control" placeholder="Search for specific product" asp-for="Productname" />
            <br />
            <div class="input-group-append">
                <button type="submit" class="btn btn-primary">Search</button>
            </div>
        </div>
    </div>
</form>

@*<form>
    <input type="text" class="form-control" asp-for="productname" />
    <a type="submit" asp-page-handler="Search" asp-page="/StorePage/LoggedinIndex" asp-route-name="@Model.productname" asp-route-id="@Model.ShoppingCart.CartId">Search</a>
</form>*@

<br />
<a class="btn btn-light" asp-route-id="@Model.ShoppingCart.CartId" asp-page-handler="SortMax">Sort by Max Price</a>
<a class="btn btn-light" asp-route-id="@Model.ShoppingCart.CartId" asp-page-handler="SortMin">Sort by Min Price</a>
<br />
<br />  
<h1>Products</h1>
<br />

<div class="text-center">
    <a class="btn btn-light" asp-page="/ShoppingCart/ShoppingCart" asp-route-id="@Model.ShoppingCart.CartId" asp-page-handler="Checkout">Checkout</a>
</div>
<br />
@foreach (var item in Model.Products)
{
    <div asp-page-handler="Index" class="text-center">
        <img src="@item.Image" alt="Card image cap" class="img-thumbnail" />
        <h6>Product : @item.Name</h6>
        <h6>Price : @item.Price$</h6>
        <a class="btn btn-light" asp-page="/StorePage/LoggedinIndex" asp-route-product="@item.id" asp-route-id="@Model.ShoppingCart.CartId" asp-page-handler="AddToCart">Add To Cart</a>
        <br />
        
    </div>
}



